<?xml version="1.0"?>
<openerp>
    <data>
        <!--crm.team-->
        <record model="ir.ui.view" id="view_crm_team_view_form">
            <field name="name">crm.team.form</field>
            <field name="model">crm.team</field>
            <field name="inherit_id" ref="sales_team.crm_team_view_form"/>
            <field name="arch" type="xml">
                <field name="company_id" position="after">
                   <field name="channel_ref" />
                   <field name="team_code_ref" />
                   <field name="market_type" />
                </field>
            </field>
        </record>
        <record model="ir.ui.view" id="view_crm_team_view_tree">
            <field name="name">crm.team.tree</field>
            <field name="model">crm.team</field>
            <field name="inherit_id" ref="sales_team.crm_team_view_tree"/>
            <field name="arch" type="xml">
                <field name="user_id" position="after">
                   <field name="channel_ref" />
                   <field name="team_code_ref" />
                   <field name="market_type" />
                </field>
            </field>
        </record>

	    <record model="ir.actions.act_window" id="action_sales_team_tree">
            <field name="name">Team</field>
            <field name="res_model">crm.team</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="domain">[]</field>
        </record>
        
        <record model="ir.ui.view" id="view_account_payment_term_ref_form">
            <field name="name">account.payment.term.form</field>
            <field name="model">account.payment.term</field>
            <field name="inherit_id" ref="account.view_payment_term_form"/>
            <field name="arch" type="xml">
                <field name="company_id" position="after">
                    <field name="account_ref" />
                </field>
            </field>
        </record>
        <record model="ir.ui.view" id="view_account_payment_term_ref_tree">
            <field name="name">account.payment.term.tree</field>
            <field name="model">account.payment.term</field>
            <field name="inherit_id" ref="account.view_payment_term_tree"/>
            <field name="arch" type="xml">
                <field name="name" position="after">
                    <field name="account_ref" />
                </field>
            </field>
        </record>
        
        <record model="ir.ui.view" id="view_account_tax_form">
            <field name="name">account.tax.form</field>
            <field name="model">account.tax</field>
            <field name="inherit_id" ref="account.view_tax_form"/>
            <field name="arch" type="xml">
                <field name="name" position="after">
                    <field name="account_ref" />
                </field>
            </field>
        </record>
    	
        <!--account.fiscal.position-->
        <record model="ir.ui.view" id="view_account_fiscal_position_form">
            <field name="name">account.fiscal.position.need.invoice.form</field>
            <field name="model">account.fiscal.position</field>
            <field name="inherit_id" ref="account.view_account_position_form"/>
            <field name="arch" type="xml">
                <field name="company_id" position="after">
                    <field name="need_invoice" />
                    <field name="private_market" />
                    <field name="partner_private" />
                    <field name="pfu_invoice_enable" />
                </field>
            </field>
        </record>
        <record model="ir.ui.view" id="view_account_fiscal_position_tree">
            <field name="name">account.fiscal.position.tree</field>
            <field name="model">account.fiscal.position</field>
            <field name="inherit_id" ref="account.view_account_position_tree"/>
            <field name="arch" type="xml">
                <field name="company_id" position="before">
                    <field name="need_invoice" />
                    <field name="private_market" />
                    <field name="partner_private" />
                    <field name="pfu_invoice_enable" />
                </field>
            </field>
        </record>

        <!--product.template-->
        <!--TODO raise an error:-->
        <record model="ir.ui.view" id="view_product_template_kit_page_form">
            <field name="name">product.template.form</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='options']/div[1]" position="before">
                    <div>
                        <field name="is_expence"/>
                        <label for="is_expence"/>
                    </div>                    
                </xpath>
            </field>       
         </record>
        <record model="ir.ui.view" id="view_product_template_account_ref_form">
            <field name="name">product.template.form</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <field name="categ_id" position="after">
                    <field name="account_ref" />
                    <field name="not_in_invoice" />
                </field>
            </field>       
         </record>
         
         
         <record model="ir.actions.act_window" id="action_product_template_form">
             <field name="name">Product template</field>
             <field name="res_model">product.template</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <!--<field name="view_id" ref="view_model_name_form"/>-->
             <field name="context">{}</field>
             <field name="domain">[]</field>
         </record>
         <record model="ir.actions.act_window" id="action_product_template_no_supplier_form">
             <field name="name">Product no supplier</field>
             <field name="res_model">product.template</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('default_supplier_id', '=', False)]</field>
         </record>
         <record model="ir.actions.act_window" id="action_res_partner_customer_form">
             <field name="name">Customer</field>
             <field name="res_model">res.partner</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('customer', '=', True)]</field>
         </record>
         <record model="ir.actions.act_window" id="action_res_partner_supplier_form">
             <field name="name">Supplier</field>
             <field name="res_model">res.partner</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('supplier', '=', True)]</field>
         </record>

         <!--res.partner-->
         <record model="ir.ui.view" id="view_res_partner_form">
             <field name="name">res.partner.form</field>
             <field name="model">res.partner</field>
             <field name="inherit_id" ref="base.view_partner_form"/>
             <field name="arch" type="xml">
                 <field name="ref" position="after">
                     <field name="internal_stock" />
                     <separator string="Account document" />
                     <field name="need_invoice" />
                     <field name="sql_customer_code" />
                     <field name="sql_supplier_code" />
                     <field name="pfu_invoice_fiscal" />
                 </field>
             </field>
         </record>
         
         <record id="view_partner_property_form" model="ir.ui.view">
            <field name="name">res.partner.property.always.visible.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="account.view_partner_property_form"/>
            <field name="arch" type="xml">
                <page name="accounting" position="attributes">
                    <attribute name="attrs">{'invisible': [('parent_id','!=',False)]}</attribute>
                </page>
            </field>
         </record>

         
         <!--stock.picking-->
         <record model="ir.ui.view" id="view_stock_picking_invoice_search">
             <field name="name">stock.picking.invoice.search</field>
             <field name="model">stock.picking</field>
             <field name="priority" eval="40" />
             <field name="arch" type="xml">
                 <search string="Invoice">        
                     <field name="name" />
                     <field name="sale_order_id" />
                     <field name="partner_id" filter_domain="[('partner_id','=',self)]"/>
                     <field name="invoice_number" />
                     <group expand="0" string="Group By...">
                         <filter name="group_invoice" string="Invoice number" context="{'group_by': 'invoice_number'}"/>
                         <filter name="group_date" string="Invoice date" context="{'group_by': 'scheduled_date'}"/>
                         <filter name="group_partner" string="Invoice partner" context="{'group_by': 'partner_id'}"/>
                     </group>                
                 </search>
             </field>
         </record>
         <record model="ir.ui.view" id="view_stock_picking_invoice_tree">
             <field name="name">stock.picking.invoice.tree</field>
             <field name="model">stock.picking</field>
             <field name="priority" eval="40" />
             <field name="arch" type="xml">
                 <tree string="String" editable="bottom">
                     <field name="name" readonly="1"/>
                     <field name="scheduled_date" readonly="1"/>
                     <field name="sale_order_id" readonly="1"/>
                     <field name="invoice_number" />
                     <field name="invoice_filename" />
                     <field name="invoice_date" />
                 </tree>
             </field>
         </record>
         <record model="ir.actions.act_window" id="action_stock_picking_invoice_tree">
             <field name="name">Stock picking invoice</field>
             <field name="res_model">stock.picking</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree</field>
             <field name="view_id" ref="view_stock_picking_invoice_tree"/>
             <field name="search_view_id" ref="view_stock_picking_invoice_search"/>
             <field name="context">{}</field>
             <field name="domain">[('invoice_number', '!=', False)]</field>
         </record>
         
         <record model="ir.ui.view" id="view_stock_picking_confirm_out_form">
             <field name="name">stock.picking.form</field>
             <field name="model">stock.picking</field>
             <field name="inherit_id" ref="stock.view_picking_form"/>
             <field name="arch" type="xml">
                 <field name="state" position="after">
                     <!--XXX Needed?<button name="generate_refund_document" string="Generate refund" type="object" class="oe_highlight" attrs="{'invisible': ['|',('sale_order_id','=',False),('stock_mode','=','in')]}"/>-->
                     <!--<button name="assign_ddt_number" string="Assign DDT" type="object" class="oe_highlight" attrs="{'invisible': ['|',('sale_order_id','=',False),('ddt_number','!=',False)]}"/>
                     <button name="assign_invoice_number" string="Assign Invoice" type="object" class="oe_highlight" attrs="{'invisible': ['|','|',('sale_order_id','=',False),('invoice_number','!=',False),('stock_mode','=','in')]}"/>-->
                     <button name="workflow_ready_to_done_done_picking" string="Confirm delivery" type="object" class="oe_highlight"/>
                 </field>
                 <field name="origin" position="after">
                    <field name="sale_order_id" attrs="{'invisible': [('sale_order_id','=',False)]}"/>
                    <field name="is_fees" groups="tyres_logistic_management.group_logistic_manager" />
                 </field>
             </field>
         </record>

         <record model="ir.ui.view" id="view_stock_picking_confirm_out_tree">
             <field name="name">stock.picking.tree</field>
             <field name="model">stock.picking</field>
             <field name="inherit_id" ref="stock.vpicktree"/>
             <field name="arch" type="xml">
                 <field name="state" position="before">
                    <field name="sale_order_id" attrs="{'invisible': [('sale_order_id','=',False)]}"/>
                 </field>
             </field>
         </record>
         
         <!--stock.move-->
         <record model="ir.ui.view" id="view_stock_move_logistic_tree">
             <field name="name">stock.move.tree</field>
             <field name="model">stock.move</field>
             <field name="arch" type="xml">
                 <tree string="Stock move">
                     <field name="company_id" invisible="1" />
                     <field name="picking_id" />                     
                     <field name="origin" />
                     <field name="product_id" />
                     <field name="name" />
                     <field name="product_uom_qty" />
                     <field name="product_uom" />
                     <field name="date" />
                     <field name="date_expected" />
                     
                     <field name="location_id" />
                     <field name="location_dest_id" />
                     
                     <field name="logistic_purchase_id" />
                     <field name="logistic_load_id" />

                     <field name="logistic_unload_id" />

                     <field name="state" invisible="1" />
                 </tree>
             </field>
         </record>
         <record model="ir.actions.act_window" id="action_stock_move_logistic_form">
             <field name="name">Stock move logistic</field>
             <field name="res_model">stock.move</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="view_id" ref="view_stock_move_logistic_tree"/>
             <field name="context">{}</field>
             <field name="domain">[]</field>
         </record>
         
         <!--purchase.order.line-->
         <record model="ir.ui.view" id="view_purchase_order_line_tree">
             <field name="name">purchase.order.line.tree</field>
             <field name="model">purchase.order.line</field>
             <field name="priority" eval="40"/>
             <field name="arch" type="xml">
                 <tree string="String" decoration-info="logistic_sale_id == False">
                     <field name="order_id" />
                     <field name="product_id" />
                     <field name="name" />
                     <field name="date_planned" />
                     
                     <!--Total part:-->               
                     <field name="product_qty" />
                     <field name="price_unit" />      
                     <field name="price_subtotal" />

                     <!--BF part:-->               
                     <field name="logistic_undelivered_qty" />
                     <field name="logistic_delivered_qty" />
                     <field name="load_line_ids" />
                     
                     <!--Sale part:-->
                     <field name="logistic_sale_id" />                     
                 </tree>
             </field>
         </record>
         <record model="ir.ui.view" id="view_purchase_order_line_form">
             <field name="name">purchase.order.line.form</field>
             <field name="model">purchase.order.line</field>
             <field name="priority" eval="40"/>
             <field name="arch" type="xml">
                 <form string="String">
                     <sheet>
                         <group colspan="4" col="4">
                             <field name="order_id" readonly="1"/>
                             <field name="product_id" readonly="1" />
                             
                             <field name="name" readonly="1" />
                             <field name="date_planned" readonly="1" />
                             
                             <!--Total part:-->               
                             <field name="product_qty" readonly="1" />
                             <field name="price_unit" readonly="1" />      
                             <field name="price_subtotal" readonly="1" />

                             <!--Sale part:-->
                             <field name="logistic_sale_id" colspan="4" readonly="1"/>

                             <!--BF part:-->               
                             <field name="logistic_undelivered_qty" readonly="1" />
                             <field name="logistic_delivered_qty" readonly="1" />
                             
                             <separator string="BF lines:" colspan="4" />
                             <field name="load_line_ids" colspan="4" nolabel="1" readonly="1"/>
                         </group>
                     </sheet>
                 </form>
             </field>
         </record>

         <!--purchase.order-->         
         <record model="ir.ui.view" id="view_purchase_order_logistic_workflow_tree">
             <field name="name">purchase.order.form</field>
             <field name="model">purchase.order</field>
             <field name="inherit_id" ref="purchase.purchase_order_tree"/>
             <field name="arch" type="xml">
                 <field name="state" position="before">
                     <field name="logistic_state" />
                 </field>
                 <field name="origin" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </field>
                 <field name="amount_untaxed" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </field>
                 <field name="state" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </field>
                 <field name="invoice_status" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </field>
             </field>
         </record>
         
         <record model="ir.ui.view" id="view_purchase_order_logistic_workflow_form">
             <field name="name">purchase.order.form</field>
             <field name="model">purchase.order</field>
             <field name="inherit_id" ref="purchase.purchase_order_form"/>
             <field name="arch" type="xml">
                 <field name="state" position="replace">
                     <button name="set_logistic_state_confirmed" string="Confirm" type="object" attrs="{'invisible': [('logistic_state','!=','draft')]}" class="oe_highlight"/>
                     <field name="state" invisible="1"/>
                     <field name="logistic_state" widget="statusbar" statusbar_visible="draft,confirmed,done" />
                 </field>
                
                <button name="action_rfq_send" position="before">
                    <button name="open_purchase_line" string="Logistic purchase line" type="object" />
                </button>
                <!--HIDE WF BUTTON:--> 
                <button name="action_rfq_send" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="action_rfq_send" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="print_quotation" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="print_quotation" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="button_confirm" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="button_confirm" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="button_approve" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="action_rfq_send" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="action_view_picking" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="button_draft" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="button_cancel" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="button_done" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
                <button name="button_unlock" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </button>
             </field>
         </record>
         
         <!--res.company-->
         <record model="ir.ui.view" id="view_res_company_logistic_parameter_form">
             <field name="name">res.company.form</field>
             <field name="model">res.company</field>
             <field name="arch" type="xml">
                 <form string="Logistic parameter">  
                     <sheet>
                         <group col="4" colspan="4">
                             <field name="name" readonly="1" />
                             <notebook colspan="4">
                                 <page string="Logistic">
                                     <group col="4" colspan="4">
                                         <separator string="Output folder:" colspan="4"/>
                                         <field name="logistic_root_folder" colspan="4"/>
                                         
                                         <separator string="Load document:" colspan="4"/>
                                         <field name="logistic_pick_in_type_id" />
                                         <field name="logistic_pick_out_type_id" />

                                         <separator string="Account:" colspan="4"/>
                                         <field name="product_account_ref" colspan="4"/>

                                         <separator string="Printer:" colspan="4"/>
                                         <field name="cups_picking" />
                                         <field name="cups_ddt" />
                                         <field name="cups_invoice" />
                                     </group>
                                 </page>
                             </notebook>
                         </group>
                     </sheet>        
                 </form>
             </field>
         </record>
         <record model="ir.actions.act_window" id="action_res_company_parameter">
             <field name="name">Logistic parameter</field>
             <field name="res_model">res.company</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <!--<field name="view_id" ref="view_model_name_form"/>-->          
             <field name="context">{'form_view_ref': 'tyres_logistic_management.view_res_company_logistic_parameter_form'}</field>
             <field name="domain">[]</field>
         </record>
         

        <!--TODO raise an error:
        <record model="ir.ui.view" id="view_view_order_secure_tree">
            <field name="name">sale.order.sale.tree</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_tree"/>
            <field name="arch" type="xml">
                <field name="partner_id" position="before">
                   <field name="payment_done" />
                </field>
            </field>
        </record>-->
        
        <!--sale.order-->
        <record model="ir.ui.view" id="view_sale_order_graph">
           <field name="name">sale.order.graph</field>
           <field name="model">sale.order</field>
           <field name="priority" eval="1" />
           <field name="arch" type="xml">
                 <graph string="Sales Order" type="bar">
                      <field name="logistic_state" />
                      <field name="team_id" />
                      <field name="counter" type="measure" />
                </graph>
            </field>
        </record>
        <record model="ir.ui.view" id="view_sale_order_form">
            <field name="name">sale.order.form</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="tyres_logistic_carrier.view_sale_order_form"/>
            <field name="arch" type="xml">
                <page name="carrier_page" position="attributes">
                    <attribute name="attrs">{'invisible': [('logistic_source','!=','web')]}</attribute>                  
                </page>
            </field>
        </record>          

        <record model="ir.ui.view" id="view_sale_order_logistic_form">
             <field name="name">sale.order.logistic.form</field>
             <field name="model">sale.order</field>
             <field name="inherit_id" ref="sale.view_order_form"/>
             <field name="arch" type="xml">
                 <field name="date_order" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </field>
                 <field name="validity_date" position="before">
                     <field name="date_order" />
                 </field>
                 <xpath expr="//button[@name='action_confirm']" position="after">
                     <button name="wk_order_cancel" type="object" attrs="{'invisible': [('logistic_state','!=','error')]}" string="Cancel order" confirm="Order will go in cancel order and end the process, confirm?"/>
                 </xpath>
                 <field name="payment_term_id" position="before">
                     <field name="partner_need_invoice" />
                     <field name="need_invoice" />
                     <field name="logistic_source" />
                 </field>
                 <xpath expr="//page[1]" position="after">
                     <page string="Note">
                         <group colspan="4" col="4">
                             <separator string="Picking note:" colspan="4"/>
                             <field name="note_picking" colspan="4" nolabel="1"/>
                             <separator string="DDT note:" colspan="4"/>
                             <field name="note_ddt" colspan="4" nolabel="1" />
                             <separator string="Invoice note:" colspan="4"/>
                             <field name="note_invoice" colspan="4" nolabel="1" />

                             <separator string="Delay note:" colspan="4"/>
                             <field name="note_delay" colspan="4" nolabel="1" />
                         </group>    
                     </page>
                 
                     <page string="Picking">
                         <group colspan="4" col="4">
                             <separator string="Picking out:" colspan="4"/>
                             <field name="logistic_picking_ids" nolabel="1" colspan="4">
                                 <tree string="Picking:" decoration-danger="stock_mode=='in'">
                                     <field name="stock_mode" />
                                     <field name="name" />
                                     <field name="date" invisible="1" />
                                     <field name="scheduled_date" />
                                     <field name="ddt_number" />
                                     <field name="invoice_number" />
                                     <field name="state" invisible="1"/>
                                 </tree>
                             </field>
                         </group>    
                     </page>

                     <page string="Undo" groups="tyres_logistic_management.group_undo_operator">
                         <group colspan="4" col="4">
                             <separator string="Undo detail:" colspan="2"/>
                             <button name="undo_go_in_cancel_after_undo" string="Cancel order" 
                                 icon="fa-mail-reply" type="object" 
                                 attrs="{'invisible': [('logistic_state', 'not in', ('order', 'pending', 'ready', 'delivering'))]}"
                                 colspan="1"
                                 confirm="Cancel will go in draft and unlink all document present goes in cancel stata, no regression! Confirm?"
                                 />

                             <button name="undo_go_in_draft" string="Return in draft mode" 
                                 icon="fa-mail-reply" type="object" 
                                 attrs="{'invisible': [('logistic_state', 'not in', ('order', 'pending', 'ready', 'delivering'))]}"
                                 colspan="1"
                                 confirm="Do you want move logistic status in draft, use only for update order! Confirm?"
                                 />

                             <field name="undo_comment" nolabel="1" colspan="4" widget="html" readonly="1"/>
                         </group>
                     </page>
                 </xpath>

                 <!--UNLINK LINE FOR UNDO:-->
                 <xpath expr="//field[@name='order_line']/tree/field[@name='product_id']" position="after">
                     <button name="unlink_for_undo" string="" type="object" class="oe_link" icon="fa-chain-broken" 
                         groups="tyres_logistic_management.group_undo_operator" attrs="{'invisible': [('undo_returned','=',False)]}"
                         confirm="Unlink operation will delete linked document line (ex. purchase line, pick in line)"/>
                     <field name="undo_returned" invisible="1" />
                 </xpath>

                 <field name="state" position="after">
                     <button name="wf_set_order_as_done" string="Order done!" type="object" attrs="{'invisible': [('logistic_state','!=','delivering')]}"/>
                     <button name="return_order_line_list_view" string="Logistic detail" type="object" class="oe_highlight"/>
                     <button name="workflow_ready_to_done_current_order" string="Go in delivering" type="object" attrs="{'invisible': [('logistic_state','!=','ready')]}" icon="fa-caret-square-o-right"/>
                 </field>
                 <field name="partner_id" position="after">
                     <field name="logistic_state" readonly="1"/>
                 </field>
                 <button name="action_confirm" position="attributes">
                     <attribute name="invisible">1</attribute>
                     <attribute name="attrs"/>
                 </button>
                 <xpath expr="//button[@name='action_confirm'][2]" position="attributes">
                     <attribute name="invisible">1</attribute>
                     <attribute name="attrs"/>
                 </xpath>
                 <xpath expr="//header/button[1]" position="before">
                     <field name="locked_delivery" invisible="1"/>
                     <button name="locked_delivery_on" string="Lock delivery" type="object" attrs="{'invisible': [('locked_delivery','=',True)]}" icon="fa-lock"/><!--attrs="{'invisible': [('logistic_state','!=',('draft', 'order', 'pending'))]}"-->
                     <button name="locked_delivery_off" string="Unlock delivery" type="object" attrs="{'invisible': [('locked_delivery','=',False)]}" icon="fa-mail-reply"/>
                 </xpath>
             </field>
         </record>             
         <record model="ir.ui.view" id="view_sale_order_quotation_logistic_tree">
             <field name="name">sale.order.logistic.tree</field>
             <field name="model">sale.order</field>
             <field name="inherit_id" ref="sale.view_quotation_tree"/>
             <field name="arch" type="xml">
                 <field name="state" position="after">
                     <field name="logistic_source" />                     
                     <field name="market_type" invisible="1"/>
                     <field name="logistic_state" />                     
                     <button name="return_order_line_list_view" string="Logistic detail" type="object" class="oe_highlight"/>
                 </field>
                 <!--TODO hide state field-->
             </field>
         </record>    
         <record model="ir.ui.view" id="view_sale_order_logistic_tree">
             <field name="name">sale.order.logistic.tree</field>
             <field name="model">sale.order</field>
             <field name="inherit_id" ref="sale.view_order_tree"/>
             <field name="arch" type="xml">
                 <field name="confirmation_date" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </field>
                 <field name="confirmation_date" position="after">
                    <field name="date_order" />
                 </field>
                    
                 <field name="state" position="after">
                     <field name="team_id" />
                     <field name="carrier_ok" />
                     <field name="logistic_source" />
                     <field name="market_type" />
                     <field name="logistic_state" />                     

                     <field name="note_delay" string="Delay note" invisible="not context.get('problem_mode')"/> 
                     <button name="set_carrier_ok_yes" string="Delivery confirmed" type="object" invisible="not context.get('view_mode_carrier', False)" attrs="{'invisible': [('carrier_ok', '=', True)]}" icon="fa-dropbox" /><!--('logistic_state', 'not in', ('order', 'pending')), -->
                     <button name="set_carrier_ok_no" string="Delivery undo" type="object" invisible="not context.get('view_mode_carrier', False)" attrs="{'invisible': [('carrier_ok', '=', False)]}" icon="fa-mail-reply"/>

                     <!--XXX <button name="purchase_management_button" string="Purchase Management" type="object" icon="fa-list-alt" attrs="{'invisible': [('logistic_state','!=','order')]}"/>-->
                     <button name="workflow_ready_to_done_current_order" string="Go in delivering" type="object" attrs="{'invisible': [('logistic_state','!=','ready')]}" icon="fa-caret-square-o-right"/>
                 </field>
                 <field name="invoice_status" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </field>
                 <field name="state" position="attributes">
                     <attribute name="invisible">1</attribute>
                 </field>
             </field>
         </record>       
                  
         <record model="ir.ui.view" id="view_sale_order_logistic_search">
             <field name="name">sale.order.logistic.search</field>
             <field name="model">sale.order</field>
             <field name="inherit_id" ref="sale.view_sales_order_filter"/>
             <field name="arch" type="xml">
                 <field name="user_id" position="after">
                     <field name="logistic_state" />
                     <field name="team_id" />
                     <field name="logistic_source" />
                     <field name="market_type" />
                     
                     <!--Fast filter:-->
                     <filter name="market_b2b_today" string="B2B Today" domain="[('market_type','=','b2b'), ('logistic_state', 'not in', ('cancel', 'error', 'done')), ('date_order', '&gt;=', datetime.datetime.now().strftime('%Y-%m-%d 00:00:00'))]"/>
                     <filter name="market_b2c_today" string="B2C Today" domain="[('market_type','=','b2c'), ('logistic_state', 'not in', ('cancel', 'error', 'done')), ('date_order', '&gt;=', datetime.datetime.now().strftime('%Y-%m-%d 00:00:00'))]"/>

                     <filter name="logistic_state_draft" string="Order Draft" domain="[('logistic_state','=','draft')]"/>
                     <filter name="logistic_state_order" string="Order Payed" domain="[('logistic_state','=','order')]"/>
                     <filter name="logistic_state_pending" string="Order pending" domain="[('logistic_state','=','pending')]"/>
                     <filter name="logistic_state_ready" string="Order ready" domain="[('logistic_state','=','ready')]"/>
                     <filter name="logistic_state_delivering" string="Order delivering ste" domain="[('logistic_state','=','delivering')]"/>
                     <filter name="logistic_state_done" string="Order done" domain="[('logistic_state','=','done')]"/>
                     <!--<filter name="logistic_state_dropshipped" string="Order dropshipped" domain="[('logistic_state','=','dropshipped')]"/>-->
                     <filter name="logistic_state_error" string="Order error" domain="[('logistic_state','=','error')]"/>
                     <filter name="logistic_state_cancel" string="Order cancel" domain="[('logistic_state','=','cancel')]"/>
                 </field>

                 <xpath expr="/search/group/filter[2]" position="after">
                     <filter string="Team ID" domain="[]" context="{'group_by': 'team_id'}"/>
                     <filter string="Market type" domain="[]" context="{'group_by': 'market_type'}"/>
                     <filter string="Logistic state" domain="[]" context="{'group_by': 'logistic_state'}"/>
                     <filter string="Logistic source" domain="[]" context="{'group_by': 'logistic_source'}"/>
                 </xpath>
             </field>
         </record>         

        <record model="ir.ui.view" id="view_sale_order_purchase_button_override_button_form">
            <field name="name">sale.order.purchase.button.form</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="logistic_product_supplier.view_sale_order_purchase_button_form"/>
            <field name="arch" type="xml">
                <button name="purchase_management_button" position="replace">
                    <button name="purchase_management_button" string="Purchase Management" type="object" icon="fa-list-alt" attrs="{'invisible': [('logistic_state','!=','order')]}"/>
                </button>

                <button name="workflow_manual_order_pending" position="replace">
                    <button name="workflow_manual_order_pending" string="Go in purchase" type="object" icon="fa-gear" attrs="{'invisible': [('logistic_state','!=','order')]}"/>
                </button>
            </field>
        </record>    

         <!--sale.order.line-->
         <record model="ir.ui.view" id="view_sale_order_line_logistic_tree">
             <field name="name">sale.order.line.logistic.tree</field>
             <field name="model">sale.order.line</field>
             <field name="priority" eval="40" />
             <field name="arch" type="xml">
                 <tree string="Sale line logistic">
                     <button name="open_view_sale_order" string="Open sale order" type="object" icon="fa-arrow-circle-o-right"/>
                     <field name="order_id" />
                     <button name="open_view_sale_order_product" string="Open sale order product" type="object" icon="fa-arrow-circle-o-right"/>
                     <field name="product_id" />
                     <!--TODO order must be in draft!!!-->
                     <button name="chain_broken_purchase_line" attrs="{'invisible': [('logistic_state','!=','ordered')]}" string="" help="Delete purchase line and return to order phase" type="object" icon="fa-chain-broken" confirm="Reassign product if needed, program delete purchase line and return do order step, confirm?"/>
                     <field name="name" />
                     <field name="product_uom_qty" />
                     <field name="logistic_uncovered_qty" />
                     <field name="logistic_purchase_qty" />
                     <field name="logistic_received_qty" />
                     <field name="logistic_remain_qty" />
                     <field name="logistic_delivered_qty" />
                     <field name="logistic_undelivered_qty" />
                     <field name="logistic_state" />
                 </tree>
             </field>
         </record>
         <!--<record model="ir.ui.view" id="view_sale_order_line_real_product_unchain_form">
            <field name="name">sale.order.line.unchain.product.form</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="order_line_change_product.view_sale_order_line_real_product_form"/>
            <field name="arch" type="xml">
                <field name="linked_mode" position="after">
                    <button name="chain_broken_purchase_line" attrs="{'invisible': [('logistic_state','!=','ordered')]}" string="" help="Delete purchase line and return to order phase" type="object" icon="fa-chain-broken" confirm="Reassign product if needed, program delete purchase line and return do order step, confirm?"/>
                    <field name="logistic_state" invisible="1"/>
                </field>
            </field>
        </record>-->

         <record model="ir.ui.view" id="view_sale_order_line_search">
             <field name="name">sale.order.line.search</field>
             <field name="model">sale.order.line</field>
             <field name="arch" type="xml">
                 <search string="Sale order filter">
                     <field name="name" />
                     
                     <field name="product_id" domain="[('product_id.product_tmpl_id.default_code', 'ilike', self)]" />
                     <field name="order_id" filter_domain="[('order_id','=',self)]"/>            
                     <!--<field name="order_logistic_state" filter_domain="[('order_id.logistic_state','=',self)]"/>-->

                     <group expand="0" string="Group By...">
                         <filter name="group_order" string="Order" context="{'group_by': 'order_id'}"/>
                         <filter name="group_product" string="Product" context="{'group_by': 'product_id'}"/>
                         <filter name="group_logistic" string="Logistic" context="{'group_by': 'logistic_state'}"/>
                     </group>
                 </search>
             </field>
         </record>
         <record model="ir.ui.view" id="view_sale_order_line_logistic_form">
             <field name="name">sale.order.line.logistic.form</field>
             <field name="model">sale.order.line</field>
             <field name="priority" eval="40" />
             <field name="arch" type="xml">
                 <form string="Sale line logistic">
                     <header> 
                             <field name="logistic_state" widget="statusbar"  />                         
                     </header>
                     <sheet>
                         <group colspan="4" col="4">
                             <field name="order_id" />
                             <newline/>
                             <field name="product_id" />
                             <field name="name" />
                         </group>                         
                         <notebook colspan="4">
                             <page string="Quantity">
                                 <group colspan="4" col="4">
                                     <field name="product_uom_qty" />
                                     <newline/>
                                     <field name="logistic_uncovered_qty" />
                                     
                                     <field name="logistic_purchase_qty" />
                                     <field name="logistic_received_qty" />
                                     
                                     <field name="logistic_remain_qty" />
                                     
                                     <field name="logistic_delivered_qty" />
                                     <field name="logistic_undelivered_qty" />
                                 </group>    
                             </page>                         
                             <page string="Purchase order">
                                 <group colspan="4" col="4">
                                     <separator string="Supplier purchased:" colspan="4"/>
                                     <field name="purchase_line_ids" nolabel="1" colspan="4" />
                                 </group>    
                             </page>
                             <page string="Load move">
                                 <group colspan="4" col="4">
                                     <separator string="Supplier loaded:" colspan="4"/>
                                     <field name="load_line_ids" nolabel="1" colspan="4">
                                         <tree string="Load line:">
                                              <field name="reference" />
                                              <field name="date" />
                                              <field name="origin" />
                                              <field name="product_uom_qty" />
                                              <field name="location_dest_id" />
                                              <field name="state" />
                                         </tree>                                         
                                     </field>
                                 </group>    
                             </page>
                             <page string="Delivered move">
                                 <group colspan="4" col="4">
                                     <separator string="Customer delivered:" colspan="4"/>
                                     <field name="delivered_line_ids" nolabel="1" colspan="4" />
                                 </group>    
                             </page>                             
                         </notebook>
                    </sheet>     
                 </form>
             </field>
         </record>
         
         <!--Logistic sale order line-->
         <record model="ir.actions.act_window" id="action_sale_order_line_logistic">
             <field name="name">Sale line logistic</field>
             <field name="res_model">sale.order.line</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="view_id" ref="view_sale_order_line_logistic_tree"/>
             <field name="search_view_id" ref="view_sale_order_line_search"/>
             <field name="context">{'form_view_ref': 'tyres_logistic_management.view_sale_order_line_logistic_form'}</field>
             <field name="domain">[]</field>
         </record>         
         
         <!--MASTER ACTION:-->
         <!--sale.order action:-->
         <record model="ir.actions.act_window" id="action_sale_carrier_ko_form">
             <field name="name">Carrier not confirmed</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>            
             <field name="context">{'view_mode_carrier': True}</field>
             <field name="domain">[('partner_id.internal_stock', '=', False), ('carrier_ok', '=', False), ('logistic_state', 'in', ('order', 'pending', 'ready', 'delivering'))]</field>
         </record>

         <record model="ir.actions.act_window" id="action_sale_order_dashboard_form">
             <field name="name">Order dashboard</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">graph,tree,form,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', 'not in', ('cancel', 'done'))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_all_form">
             <field name="name">Sale order all</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_problem_form">
             <field name="name">Sale order problem</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{'problem_mode': True}</field>
             <field name="domain">[('logistic_source', 'not in', ('refund', )), ('logistic_state', 'in', ('order', 'pending', 'ready', 'delivering')),('date_order', '&lt;', (datetime.datetime.now() - datetime.timedelta(days=3)).strftime('%Y-%m-%d 00:00:00'))]</field>
         </record>
         
         <record model="ir.actions.act_window" id="action_sale_order_draft_form">
             <field name="name">Sale order draft</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'draft'), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_order_form">
             <field name="name">Sale order order</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'order'), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_pending_form">
             <field name="name">Sale order pending</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'pending'), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_locked_delivery_form">
             <field name="name">Sale order locked</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('locked_delivery', '=', True), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_ready_form">
             <field name="name">Sale order ready</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'ready'),('locked_delivery', '=', False), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_delivering_form">
             <field name="name">Sale order delivering</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'delivering'), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_done_form">
             <field name="name">Sale order done</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'done'), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_cancel_form">
             <field name="name">Sale order cancel</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'cancel'), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_error_form">
             <field name="name">Sale order error</field>
             <field name="res_model">sale.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,graph,pivot</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'error'), ('logistic_source', 'not in', ('refund', ))]</field>
         </record>

         <!--purchase.order action:-->
         <record model="ir.actions.act_window" id="action_purchase_order_all">
             <field name="name">Purchase order all</field>
             <field name="res_model">purchase.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[]</field>
         </record>
         <record model="ir.actions.act_window" id="action_purchase_order_draft">
             <field name="name">Purchase order draft</field>
             <field name="res_model">purchase.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'draft')]</field>
         </record>
         <record model="ir.actions.act_window" id="action_purchase_order_confirmed">
             <field name="name">Purchase order confirmed</field>
             <field name="res_model">purchase.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'confirmed')]</field>
         </record>
         <record model="ir.actions.act_window" id="action_purchase_order_done">
             <field name="name">Purchase order closed</field>
             <field name="res_model">purchase.order</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('logistic_state', '=', 'done')]</field>
         </record>
         
         <!--stock.picking action:-->
         <record model="ir.actions.act_window" id="action_stock_picking_in">
             <field name="name">Load document</field>
             <field name="res_model">stock.picking</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('picking_type_code', '=', 'incoming')]</field>
         </record>
         <record model="ir.actions.act_window" id="action_stock_picking_out">
             <field name="name">Unload document</field>
             <field name="res_model">stock.picking</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('picking_type_code', '=', 'outgoing')]</field>
         </record>
         <record model="ir.actions.act_window" id="action_stock_picking_invoice_out">
             <field name="name">Invoice all</field>
             <field name="res_model">stock.picking</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="context">{}</field>
             <field name="domain">[('invoice_number', '!=', False)]</field>
         </record>

         <!--purchase.order.line-->
         <record model="ir.actions.act_window" id="action_purchase_order_line">
             <field name="name">Purchase line</field>
             <field name="res_model">purchase.order.line</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="view_id" ref="view_purchase_order_line_tree"/>
             <field name="context">{}</field>
             <field name="domain">[]</field>
         </record>

         <!-- Server Action:-->
         <record id="ir_delivery_report_xlsx_server_action" model="ir.actions.server">
             <field name="name">Order ready report</field>
             <field name="type">ir.actions.server</field>
             <field name="model_id" ref="model_sale_order" />
             <field name="binding_model_id" ref="model_sale_order" />
             <field name="state">code</field>
             <field name="code">action = env['sale.order'].order_ready_excel_report()</field>
         </record>

         <!--MASTER MENU:-->
         <menuitem
             id="menu_logistic_header_root" 
             name="Logistic"
             sequence="0" 
             action="action_sale_order_dashboard_form"
             />
             <menuitem
                 id="menu_logistic_left_order_root" 
                 parent="menu_logistic_header_root"
                 name="Sale order"
                 sequence="10" 
                 groups="tyres_logistic_management.group_logistic_sale_manager,tyres_logistic_management.group_logistic_manager"            
                 />
                 
                 <menuitem
                     id="menu_logistic_left_order_dashboard" 
                     parent="menu_logistic_left_order_root"
                     name="Dashboard"
                     action="action_sale_order_dashboard_form"
                     sequence="0"
                     />                
                 <menuitem
                     id="menu_logistic_left_order_all" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: All"
                     action="action_sale_order_all_form"
                     sequence="10"
                     />
                 <menuitem
                     id="menu_logistic_left_order_error" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Error"
                     action="action_sale_order_error_form"
                     sequence="20"
                     />
                 <menuitem
                     id="menu_logistic_left_order_draft" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Draft"
                     action="action_sale_order_draft_form"
                     sequence="30"
                     />
                 <menuitem
                     id="menu_logistic_left_order_order" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Order"
                     action="action_sale_order_order_form"
                     sequence="40"
                     />
                 
                 <menuitem
                     id="menu_logistic_left_order_carrier" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Carrier"
                     action="action_sale_carrier_ko_form"
                     sequence="50"
                     />
                 <menuitem
                     id="menu_logistic_left_order_pending" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Pending"
                     action="action_sale_order_pending_form"
                     sequence="60"
                     />
                 <menuitem
                     id="menu_logistic_left_order_locked_delivery" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Locked"
                     action="action_sale_order_locked_delivery_form"
                     sequence="70"
                     />                     
                 <menuitem
                     id="menu_logistic_left_order_ready" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Ready"
                     action="action_sale_order_ready_form"
                     sequence="80"
                     />
                 <menuitem
                     id="menu_logistic_left_order_delivering" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Delivering"
                     action="action_sale_order_delivering_form"
                     sequence="90"
                     />
                 <menuitem
                     id="menu_logistic_left_order_done" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Done"
                     action="action_sale_order_done_form"
                     sequence="100"
                     />

                 <menuitem
                     id="menu_logistic_left_order_problem" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Problem"
                     action="action_sale_order_problem_form"
                     sequence="120"
                     />

                 <menuitem
                     id="menu_logistic_left_order_cancel" 
                     parent="menu_logistic_left_order_root"
                     name="Logistic: Cancel"
                     action="action_sale_order_cancel_form"
                     sequence="130"
                     />

             <menuitem
                 id="menu_logistic_left_order_line_root" 
                 parent="menu_logistic_header_root"
                 name="Sale order line"
                 sequence="15"             
                 groups="tyres_logistic_management.group_logistic_sale_manager,tyres_logistic_management.group_logistic_manager"            
                 />
                 <menuitem
                     id="menu_logistic_left_order_line_all" 
                     parent="menu_logistic_left_order_line_root"
                     name="Sale order line all"
                     action="action_sale_order_line_logistic"
                     sequence="10" 
                     />

             <menuitem
                 id="menu_logistic_left_purchase_root" 
                 parent="menu_logistic_header_root"
                 name="Purchase order"
                 sequence="20"
                 groups="tyres_logistic_management.group_logistic_sale_manager,tyres_logistic_management.group_logistic_manager"            
                 />
                 <menuitem
                     id="menu_logistic_left_purchase_all" 
                     parent="menu_logistic_left_purchase_root"
                     name="Purchase order all"
                     sequence="10"
                     />
                 <menuitem
                     id="menu_logistic_left_purchase_draft" 
                     parent="menu_logistic_left_purchase_root"
                     name="Purchase order draft"
                     action="action_purchase_order_draft"
                     sequence="10"
                     />
                 <menuitem
                     id="menu_logistic_left_purchase_confirmed" 
                     parent="menu_logistic_left_purchase_root"
                     name="Purchase order confirmed"
                     action="action_purchase_order_confirmed"
                     sequence="10"
                     />
                 <menuitem
                     id="menu_logistic_left_purchase_done" 
                     parent="menu_logistic_left_purchase_root"
                     name="Purchase order done"
                     action="action_purchase_order_done"
                     sequence="10"
                     />
             <menuitem
                 id="menu_logistic_left_purchase_line_root" 
                 parent="menu_logistic_header_root"
                 name="Purchase order line"
                 sequence="25"
                 groups="tyres_logistic_management.group_logistic_sale_manager,tyres_logistic_management.group_logistic_manager"            
                 />
                 <menuitem
                     id="menu_logistic_left_purchase_line_detail" 
                     parent="menu_logistic_left_purchase_line_root"
                     name="Purchase order line"
                     action="action_purchase_order_line"
                     sequence="10"
                     />                 

            <menuitem
                 id="menu_logistic_customer_management_root" 
                 parent="menu_logistic_header_root"
                 name="Manage customer delivery"
                 sequence="30"
                 />
                 <menuitem
                     id="menu_ir_delivery_report_xlsx_server_action" 
                     parent="menu_logistic_customer_management_root"
                     name="Ready report"
                     action="ir_delivery_report_xlsx_server_action"
                     sequence="10"
                     />
                     

             <menuitem
                 id="menu_logistic_left_pick_in_root" 
                 parent="menu_logistic_header_root"
                 name="BF load document"
                 sequence="40"             
                 groups="tyres_logistic_management.group_logistic_sale_manager,tyres_logistic_management.group_logistic_manager"            
                 />
                 <menuitem
                     id="menu_logistic_left_pick_in_document" 
                     parent="menu_logistic_left_pick_in_root"
                     name="BF load document"
                     action="action_stock_picking_in"
                     sequence="10"             
                     />
                 
             <menuitem
                 id="menu_logistic_left_pick_out_root" 
                 parent="menu_logistic_header_root"
                 name="BC unload document"
                 sequence="50"             
                 groups="tyres_logistic_management.group_logistic_sale_manager,tyres_logistic_management.group_logistic_manager"            
                 />
                 <menuitem
                     id="menu_logistic_left_pick_out_document" 
                     parent="menu_logistic_left_pick_out_root"
                     name="BC unload document"
                     action="action_stock_picking_out"
                     sequence="10"             
                     />
                 <menuitem
                     id="menu_logistic_left_pick_out_document_invoice" 
                     parent="menu_logistic_left_pick_out_root"
                     name="Invoice"
                     action="action_stock_picking_invoice_out"
                     sequence="20"             
                     />
                 <menuitem
                     id="menu_logistic_left_pick_out_document_invoice_change" 
                     parent="menu_logistic_left_pick_out_root"
                     name="Change invoice ref."
                     action="action_stock_picking_invoice_tree"
                     sequence="30"             
                     groups="tyres_logistic_management.group_logistic_manager"            
                     />
                 

             <menuitem
                 id="menu_logistic_left_stock_move_root" 
                 parent="menu_logistic_header_root"
                 name="Stock move"
                 sequence="60"             
                 groups="tyres_logistic_management.group_logistic_sale_manager,tyres_logistic_management.group_logistic_manager"            
                 />
                 <menuitem
                     id="menu_logistic_left_stock_move_all" 
                     parent="menu_logistic_left_stock_move_root"
                     name="Stock move all"
                     action="action_stock_move_logistic_form"
                     sequence="10"             
                     />

             <menuitem
                 id="menu_logistic_left_configuration_anagrafic_root" 
                 parent="menu_logistic_header_root"
                 name="Anagrafic"
                 sequence="90"             
                 />
                 <menuitem 
                     id="menu_logistic_left_configuration_anagrafic_template"
                     parent="menu_logistic_left_configuration_anagrafic_root"
                     action="action_product_template_form"
                     sequence="10"
                     />
                 <menuitem 
                     id="menu_logistic_left_configuration_anagrafic_template_no_supplier"
                     parent="menu_logistic_left_configuration_anagrafic_root"
                     action="action_product_template_no_supplier_form"
                     sequence="20"
                     />

                 <menuitem 
                     id="menu_logistic_left_configuration_partner_customer"
                     parent="menu_logistic_left_configuration_anagrafic_root"
                     action="action_res_partner_customer_form"
                     sequence="30"
                     />
                 <menuitem 
                     id="menu_logistic_left_configuration_partner_supplier"
                     parent="menu_logistic_left_configuration_anagrafic_root"
                     action="action_res_partner_supplier_form"
                     sequence="40"
                     />

             <menuitem
                 id="menu_logistic_left_statistic_root" 
                 parent="menu_logistic_header_root"
                 name="Statistic"
                 sequence="80"             
                 />

             <menuitem
                 id="menu_logistic_left_report_root" 
                 parent="menu_logistic_header_root"
                 name="Report"
                 sequence="90"             
                 />

             <menuitem
                 id="menu_logistic_left_configuration_root" 
                 parent="menu_logistic_header_root"
                 name="Configuration"
                 sequence="99"             
                 groups="tyres_logistic_management.group_logistic_manager"            
                 />
                 <menuitem 
                     id="menu_logistic_left_configuration_parameter"
                     parent="menu_logistic_left_configuration_root"
                     action="action_res_company_parameter"
                     sequence="10"
                     />
                 <menuitem 
                     id="menu_stock_move_logistic_team" 
                     parent="menu_logistic_left_configuration_root"
                     action="action_sales_team_tree"
                     sequence="50"
                     />
             
             
         <!--ODOO MENU:-->
         <menuitem 
             id="menu_logistic_management_root" 
             parent="stock.menu_stock_root" 
             name="Logistic management"
             sequence="30"
             />
             <menuitem 
                 id="menu_sale_order_line_logistic" 
                 parent="menu_logistic_management_root"
                 action="action_sale_order_line_logistic"
                 sequence="10"
                 />
                                  
             <menuitem 
                 id="menu_stock_move_logistic_form" 
                 parent="menu_logistic_management_root"
                 action="action_stock_move_logistic_form"
                 sequence="40"
                 />
             <menuitem 
                 id="menu_res_company_parameter_configuration"
                 parent="menu_logistic_management_root"
                 name="Configuration"
                 sequence="99"
                 />
                 <menuitem 
                     id="menu_action_res_company_parameter"
                     parent="menu_res_company_parameter_configuration"
                     action="action_res_company_parameter"
                     sequence="10"
                     />
                     
    </data>
</openerp>
